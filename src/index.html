<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>FlexDevOps (FDO)</title>
    
    <!-- Note: Preload hints removed - webpack HtmlWebpackPlugin handles script injection with correct hashed filenames -->
    
    <!-- Prevent FOUC by setting initial background color -->
    <style>
        /* Critical CSS loaded synchronously - prevents blank white flash */
        html, body {
            margin: 0;
            padding: 0;
            background-color: #111111;
            color: #f5f5f5;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow: hidden;
        }
        
        #root {
            width: 100%;
            height: 100vh;
            background-color: #111111;
        }
        
        /* Loading skeleton to prevent blank screen */
        .loading-skeleton {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: #111111;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.3s ease;
        }
        
        .loading-skeleton.hidden {
            opacity: 0;
            pointer-events: none;
        }
    </style>
    
    <script>
        // Global polyfills for Node.js compatibility
        (function() {
            if (typeof globalThis === 'undefined') {
                if (typeof window !== 'undefined') {
                    window.globalThis = window;
                } else if (typeof global !== 'undefined') {
                    global.globalThis = global;
                } else if (typeof self !== 'undefined') {
                    self.globalThis = self;
                }
            }
            
            // Define global in multiple ways
            if (typeof global === 'undefined') {
                window.global = globalThis;
                var global = globalThis;
                globalThis.global = globalThis;
            }
            
            // Make sure it's available on window
            window.global = globalThis;
        })();
    </script>
</head>
<body>
<div id="root"></div>
<!-- Loading skeleton visible until React mounts -->
<div class="loading-skeleton" id="loading-skeleton">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2">
        <circle cx="12" cy="12" r="10" opacity="0.25"/>
        <path d="M12 2 A10 10 0 0 1 22 12" opacity="0.75">
            <animateTransform
                attributeName="transform"
                type="rotate"
                from="0 12 12"
                to="360 12 12"
                dur="1s"
                repeatCount="indefinite"/>
        </path>
    </svg>
</div>
<script>
    // Hide loading skeleton when React mounts
    window.addEventListener('DOMContentLoaded', () => {
        const observer = new MutationObserver((mutations) => {
            // Check if React has rendered content into #root
            const root = document.getElementById('root');
            if (root && root.children.length > 0) {
                const skeleton = document.getElementById('loading-skeleton');
                if (skeleton) {
                    skeleton.classList.add('hidden');
                    setTimeout(() => skeleton.remove(), 300);
                }
                observer.disconnect();
            }
        });
        
        observer.observe(document.getElementById('root'), {
            childList: true,
            subtree: true
        });
    });
</script>
</body>
</html>
